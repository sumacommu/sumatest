<!DOCTYPE html>
<html>
<head>
  <title>スマブラマッチング</title>
  <style>
  /* ここにCSSコードを書く */
  .popup { 
  display: none; 
  position: fixed; 
  top: 20%; 
  left: 20%; 
  width: 60%; 
  height: 60%; 
  background: white; 
  border: none; /* 枠を削除 */
  overflow: auto; 
}
.popup img { 
  width: 64px; 
  height: 64px; 
  margin: 5px; 
}
.section { 
  margin: 20px 0; 
}
#miiInput { 
  display: none; 
}
.char-btn { 
  opacity: 0.3; 
  transition: opacity 0.3s; 
  border: none; /* 枠を削除 */
  background: none; /* 背景色を削除 */
  padding: 0; /* 余白を削除 */
}
.char-btn.selected { 
  opacity: 1; 
}
.stage-btn { 
  opacity: 0.3; 
  transition: opacity 0.3s; 
  border: none; /* 枠を削除 */
  background: none; /* 背景色を削除 */
  padding: 0; /* 余白を削除 */
}
.stage-btn.selected { 
  opacity: 1; 
}
button:not(.char-btn):not(.stage-btn) { 
  opacity: 1 !important; 
}
  </style>
</head>
<body>
  <h1>スマブラマッチング</h1>
  <p><a href="/api/solo">タイマン用</a></p>
  <p><a href="/api/team">チーム用</a></p>
  <p><a href="/api/auth/google">Googleでログイン</a></p>
  <script>
let selectedChar = null; // 選択中のキャラクターを保持

// キャラクター選択時の処理
function selectCharacter(id, name) {
  selectedChar = id;
  document.getElementById('charSelected').innerHTML = '<img src="/characters/' + id + '.png" width="64" height="64">';
  document.getElementById('charPopup').style.display = 'none';

  // すべてのキャラクターボタンをチェック
  document.querySelectorAll('.char-btn').forEach(btn => {
    btn.classList.toggle('selected', btn.dataset.id === id);
  });
}

// 「全キャラから選ぶ」ボタンはポップアップ表示のみ
document.querySelector('button[onclick*="charPopup"]').addEventListener('click', () => {
  document.getElementById('charPopup').style.display = 'block';
});
  </script>
</body>
</html>